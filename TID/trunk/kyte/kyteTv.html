<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>
<script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"></script>
<script>
function URLDecode( url )
{
   // Replace + with ' '
   // Replace %xx with equivalent character
   // Put [ERROR] in output if %xx is invalid.
   var HEXCHARS = "0123456789ABCDEFabcdef"; 
   var encoded = url;
   var plaintext = "";
   var i = 0;
   while (i < encoded.length) {
       var ch = encoded.charAt(i);
          if (ch == "+") {
	         plaintext += " ";
		    i++;
		       } else if (ch == "%") {
		       if (i < (encoded.length-2) 
		       && HEXCHARS.indexOf(encoded.charAt(i+1)) != -1 
		       && HEXCHARS.indexOf(encoded.charAt(i+2)) != -1 ) {
		       plaintext += unescape( encoded.substr(i,3) );
		       i += 3;
		       } else {
		       alert( 'Bad escape combination near ...' + encoded.substr(i) );
		       plaintext += "%[ERROR]";
		       i++;
		       }
		       } else {
		          plaintext += ch;
			     i++;
			     }
			     } // while
   
   return plaintext;
}

var url = EzWebAPI.createRGadgetVariable("RSSYurl", loadVideo);
var slturl = EzWebAPI.createRGadgetVariable("SltRSSYurl", loadVideo);
//var gadgetHeight = EzWebAPI.createRGadgetVariable("height", changeHeight);

/*function changeHeight(height_){
	document.getElementById("video").style.height= (height_*12-15) + "px";
}*/
function loadVideo(url_){

 url_ = URLDecode (url_);

 var embed = document.createElement('embed');
 embed.setAttribute('src',"http://www.kyte.tv/flash.swf?v=2&"+url_);
 embed.setAttribute('flashVars',url_);
 embed.id="player";
 embed.setAttribute('type',"application/x-shockwave-flash"); 
 embed.setAttribute('style',"display:block;margin:0");
 embed.setAttribute('width',"415");
 embed.setAttribute('height',"435");
 embed.setAttribute('allowScriptAccess',"always"); 
 embed.setAttribute('allowFullScreen',"true");
 var divAnt = document.getElementById("video");
 var divVideo = document.createElement("div");
 divVideo.id="video";
 divVideo.appendChild(embed);
 document.body.replaceChild(divVideo,divAnt);
 }
 </script>
<div id="video">
<embed id="player" type="application/x-shockwave-flash" style="display:block;margin:0" width="415" height="435" src="http://www.kyte.tv/flash.swf?v=2&uri=channels/57327/130513&appKey=MarbachViewerEmbedded&embedId=49059561" flashVars="appKey=MarbachViewerEmbedded&amp;embedId=49059561&amp;uri=channels/57327/130513" allowScriptAccess="always" allowFullScreen="true"></embed>
</div>
</body>
</html>
