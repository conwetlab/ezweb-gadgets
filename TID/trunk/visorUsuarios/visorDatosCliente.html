<!-- 
* This code is licensed under terms shown on this link:
* http://forge.morfeo-project.org/wiki/index.php/Gadgets_2009_License
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"></script>
<title>Visor de datos de usuario</title>

<link rel="stylesheet" type="text/css" href="http://ezweb.tid.es/repository/ezweb-gadgets/visorUsuarios/visorUsuarios_1.01/css/generic.css""/>
<style type="text/css">
		#info {
			width: 100%;
			height:100%;
			overflow:hidden;
		}
	
		#div_info {
			overflow:auto;
			background-color:#FFFFFF;
			border:2px solid #437BC8;
			margin:5px;
			padding:3px;
			-moz-border-radius:5px;
		}

		table {
			width:100%;
			margin-bottom:5px;
		}
		
		.moreInfo{
			text-decoration:underline;
		}
		
		th{
			text-align:left;
			padding: 0px;
		}
		
		#title{
			font-family: Arial; 
			font-size: 22px; 
			font-weight: bold; 
			margin-left:5px; 
			margin-top: 5px; 
			margin-bottom: 5px; 
			color: #000077;
	}
</style>

<!-- Styles IE 6 and IE7 -->
<!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="http://ezweb.tid.es/repository/ezweb-gadgets/visorUsuarios/visorUsuarios_1.01/css/ie6.0.3.css""/><![endif]-->
<!--[if lte IE 6]>
<style type="text/css">
	body{
		background: url(http://ezweb.tid.es/repository/ezweb-gadgets/visorUsuarios/visorUsuarios_1.01/css/images/background.png) repeat-x scroll left top;
		color: #000000;
		margin:0px;
		padding:0px;
	}
	
	#info {
		margin:0px;
		padding:0px;
		width: 100%;
		height:100%;
		overflow:hidden;

	}

	#div_info {
		width: 100%;
		height:100%;
		border: none;
		margin:0px;
		padding:0px;
		background-color:transparent;
		
	}
	
	table {
		width:100%;
		height:100%;
		margin-bottom:0px;
	}
	
	th {
    font-size: 11px;
    color: #000000;
    font-weight: bold;
    border: none;
    margin:0px;
		padding:0px;
	}
	
	tr {
		border: none;
		padding:0px;
		margin:0px;
	}
	
	td {
		border: none;
		font-size: 9px;
		padding:0px;
		margin:0px;
	}

	#title{
		font-family: Arial; 
		font-size: 22px; 
		font-weight: bold;
		margin: 0px;
		padding:0px;
		color: #000077;
	}
</style>
<![endif]-->

<script>
var phoneNumber = EzWebAPI.createRGadgetVariable("phoneNumber",_phoneHandler);
var address = EzWebAPI.createRWGadgetVariable("address");
var firstname = EzWebAPI.createRWGadgetVariable("firstname");
var surname = EzWebAPI.createRWGadgetVariable("surname");
/*Temporary data for the demo*/
var users = [];
var user = ["Alejandro","Gonzalez Perez","07688357J","Santa Engracia, 25, 1 B, Madrid","35.50","2"];
users["913933233"] = user;
user = ["Marta","Lopez Romero","34788114L","Marcelo Usera, 46, 3 C, Madrid","40.74","1"];
users["915334432"] = user;
user = ["Rodrigo","Fernandez Bartolome","53333236P","Gran Via, 25, 2 A, Madrid","55.29","8"];
users["916432233"] = user;
user = ["Maria","Perez Casas","34788114L","Francisco Silvela, 105, 5 B, Madrid","66.15","3"];
users["917294723"] = user;
user = ["Juan","Perez Garcia","14798164L","Plaza de España, 1, 6 B, Madrid","166.22","5"];
users["983292929"] = user;
user = ["Alberto","Garcia Casas","34788114L","Camarena, 2, 4 A, Madrid","36.00","3"];
users["917744331"] = user;

function _phoneHandler(phone){
	if (phone!=null && phone!=undefined){
		var content="";
		content+="<div id='div_info'><p id='title'>Tabla de Datos de Cliente</p><table>";
		content+="<tr><th>Datos del Usuario</th><th>Valor</th></tr>";
		content+="<tr><td class='moreInfo'>Nombre</td><td>"+users[phone][0]+"</td></tr>";
		content+="<tr><td class='moreInfo'>Apellidos</td><td>"+users[phone][1]+"</td></tr>";
		content+="<tr><td class='moreInfo'>DNI</td><td>"+users[phone][2]+"</td></tr>";
		content+="<tr><td class='moreInfo'>Dirección</td><td>"+users[phone][3]+"</td></tr>";
		content+="<tr><td class='moreInfo'>Factura media</td><td>"+users[phone][4]+"</td></tr>";
		content+="<tr><td class='moreInfo'>Antiguedad</td><td>"+users[phone][5]+"</td></tr></table></div>";
			if(document.getElementById("info")){
				document.getElementById("info").innerHTML=content;
				address.set(users[phone][3]);
				firstname.set(users[phone][0]);
				surname.set(users[phone][1]);
			}
	}
}

</script>
</head>
<body>
<div id='info'><i>A la espera de seleccionar una averia...</i></div>
</body>
</html>
