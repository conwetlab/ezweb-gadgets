<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<style type="text/css">
<!--
body,td,div,span,p{font-family:arial,sans-serif;}a {color:#0000cc; }a:visited { color:#551a8b; }a:active { color:#ff0000; }body {margin: 0px;padding: 0px;   background-color: white;   }
-->
</style>
<style>

  .slot {

    cursor:hand;

    cursor:pointer;

    width: 89px;

    display:none;

    text-align: center;

    margin-left: auto;

    margin-right: auto;

    padding-top:2px;

    vertical-align: middle;

  }

  .browseitemtitle {

    margin-left:2px;

    font-size: 8pt;

    text-align: left;

    white-space: nowrap;

  }

body {
   overflow-x: hidden;
}


  .browseitemduration {

    margin-left:2px;

    font-size: 8pt;

    text-align: left;

  }

  .videotitle {

    font-size: 9pt;

    font-weight: bold;

  }

  .videoinfolabel {

    font-size: 8pt;

  }

  .videoinfo {

    font-size: 8pt;

    overflow:scroll;

    font-weight: bold;

  }

  .description {

    font-size: 8pt;

    overflow:auto;

  }

   .thumb {

    width: 85px;

    height: 64px;

    padding: 1px;

    border: 1px solid #666666;

    text-align: middle;

  }

  .contentpane {

    clear:both;

    margin-top: 2px; 

    padding-left: 2px; 

    padding-right: 2px; 

    font-size: 8pt;

    font-family: arial,helvetica;

    height: 248px;

  }

  .pager {

    font-size: 8pt; 

    margin-top: -2px;

    text-align: right;

    white-space: nowrap; 

    display: none;

  }

  .loading {

    visibility:hidden;

    position: absolute; 

    font-family:arial, helvetica; 

    font-size: 8pt; 

    padding:0px;

    margin:0px;

    margin-left:4px;

  }


  .message {

    text-align: center; 

    display:none; 

    font-family:arial, helvetica; 

    font-size: 10pt;

    padding-top: 30px;

    height: 208px; 

    vertical-align:middle;

    white-space:normal;

  }


  wbr:after { content: "\00200B" }



  * html .thumb {

    border: 1px solid white;

  }



  * html .thumbSpan {

    border: 1px solid #666666;

  }

</style>
<script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"></script>
<script>


function URLEncode( url )
{
	// The Javascript escape and unescape functions do not correspond
	// with what browsers actually do...
	var SAFECHARS = "0123456789" +					// Numeric
					"ABCDEFGHIJKLMNOPQRSTUVWXYZ" +	// Alphabetic
					"abcdefghijklmnopqrstuvwxyz" +
					"-_.!~*'()";					// RFC2396 Mark characters
	var HEX = "0123456789ABCDEF";

	var plaintext = url;
	var encoded = "";
	for (var i = 0; i < plaintext.length; i++ ) {
		var ch = plaintext.charAt(i);
	    if (ch == " ") {
		    encoded += "+";				// x-www-urlencoded, rather than %20
		} else if (SAFECHARS.indexOf(ch) != -1) {
		    encoded += ch;
		} else {
		    var charCode = ch.charCodeAt(0);
			if (charCode > 255) {
			    alert( "Unicode Character '" 
                        + ch 
                        + "' cannot be encoded using standard URL encoding.\n" +
				          "(URL encoding only supports 8-bit characters.)\n" +
						  "A space (+) will be substituted." );
				encoded += "+";
			} else {
				encoded += "%";
				encoded += HEX.charAt((charCode >> 4) & 0xF);
				encoded += HEX.charAt(charCode & 0xF);
			}
		}
	} // for

	return encoded;
}


	var videoUrl = EzWebAPI.createRWGadgetVariable("Videourl");
	var place = EzWebAPI.createRWGadgetVariable("place");
	var vtitle = EzWebAPI.createRWGadgetVariable("title");
	//var bsoartist = EzWebAPI.createRWGadgetVariable("bsoartist");
	var poi = EzWebAPI.createRWGadgetVariable("poi");

	
	/* Channels */
    var currentChannelId = 6;
	/*movie channel*/
	movies = new Array();
	movie = new Object();

	//movie 0
	url = "uri=channels/19225/107124&embedId=49061287&appKey=MarbachViewerEmbedded";
	movie.swf = url;
	movie.id = url.replace(/.*\/v\/(.*)\.swf/, "$1");
	movie.index = movies.length;
	movie.duration = 154;
	movie.thumbnail = "http://frame.revver.com/frame/120x90/532783.jpg";
	movie.title = "The water horse";
	movie.location = "Loch Ness, Scotland";
	movie.poi = "Lake Ness";
	movie.bsoartist = "";

	movies.push(movie);

	//movie 1
	movie = new Object();
	url = "uri=channels/19225/104555&embedId=49061282&appKey=MarbachViewerEmbedded";
	movie.swf = url;
	movie.id = url.replace(/.*\/v\/(.*)\.swf/, "$1");
	movie.index = movies.length;
	movie.duration = 115;
	movie.thumbnail = "http://demo.ezweb.morfeo-project.org/repository/kyte_search/300.png";
	movie.title = "300 movie";
	movie.location = "Sparta,Greece";
	movie.poi = "Sparta";
	movie.bsoartist = "";

	movies.push(movie);

	//movie 2

	movie = new Object();
	url = "uri=channels/19225/104268&embedId=49063084&appKey=MarbachViewerEmbedded";
	movie.swf = url;
	movie.id = url.replace(/.*\/v\/(.*)\.swf/, "$1");
	movie.index = movies.length;
	movie.duration = 29;
	movie.thumbnail = "http://media04.kyte.tv/store/003/04/crr/0802/26/04/382890-19728-youtube_godzilla_new_years_eve__120_90-tom-1000.jpg?h=1e7dcf7b4f116b180cb221383d91dcbf";
	movie.title = "Godzilla";
	movie.location = "Japan";
	movie.poi = "Japan";
	movie.bsoartist = "";

	movies.push(movie);

	//movie 3

	movie = new Object();
	url = "uri=channels/19225/104254&embedId=49061290&appKey=MarbachViewerEmbedded";
	movie.swf = url;
	movie.id = url.replace(/.*\/v\/(.*)\.swf/, "$1");
	movie.index = movies.length;
	movie.duration = 144;
	movie.thumbnail = "http://media02.kyte.tv/store/003/02/crr/0802/26/03/382868-19728-youtube_the_real_official_sex_a_120_90-tom-1000.jpg?h=8bca6e2c55bce427d7ce2aeb86fb339e";
	movie.title = "Sexo en Nueva York";
	movie.location = "New York";
	movie.poi = "New York";
	movie.bsoartist = "";

	movies.push(movie);

	//movie 4

	movie = new Object();
	url = "uri=channels/19225/80205&embedId=49061296&appKey=MarbachViewerEmbedded";
	movie.swf = url;
	movie.id = url.replace(/.*\/v\/(.*)\.swf/, "$1");
	movie.index = movies.length;
	movie.duration = 171;
	movie.thumbnail = "http://media08.kyte.tv/store/003/08/crr/0712/04/03/290862-19728-trailer_movie_cabaret_moviesbox_120_90-tom-1000.jpg?h=94fe3dbe6c94bb52bb8f312683e48504";
	movie.title = "Cabaret";
	movie.location = "Berlin, Germany";
	movie.poi = "Berlin";
	movie.bsoartist = "";

	movies.push(movie);

	//movie 5

	movie = new Object();
	url = "uri=channels/19225/69989&embedId=49061304&appKey=MarbachViewerEmbedded";
	movie.swf = url;
	movie.id = url.replace(/.*\/v\/(.*)\.swf/, "$1");
	movie.index = movies.length;
	movie.duration = 126;
	movie.thumbnail = "http://media07.kyte.tv/store/003/07/crr/0711/25/23/281174-5985-beowulf_poster_120_90.jpg?h=6daef0254ccaf6682e38922bffeced1a";
	movie.title = "Beowulf";
	movie.location = "Denmark";
	movie.poi = "Denmark";
	movie.bsoartist = "";

	movies.push(movie);


    var channels = new Array();
    channels["Peliculas"] = movies;

function load(){
	videos = new Array();
	videos = channels["Peliculas"];
	//currentVideoIndex = 0;
        renderBrowsePage();
}

    function loadVideo(video) {
	videoUrl.set (URLEncode(video.swf));
	//currentChannelId = document.getElementById("channellist").value;
	//channelUrl = channels[currentChannelId][1];
	//if(channelUrl == ""){//movies
	place.set(video.location);
	vtitle.set(video.title);
	//bsoartist.set(video.bsoartist);
	poi.set(video.poi);
	//}
      
    }

   function loadVideoLater(video) {
      return function() {loadVideo(video);};
    }

    /* Browse page */
    var VIDEO_SLOTS = 6; 
    function renderBrowsePage() {
      // Clear and hide video slots
      // Fill the slots
      for (var i = 0; i < VIDEO_SLOTS; i++) {
        var videoId = i;

        // Stop if out of videos 
        var slotId = i;
        var video = videos[videoId];

        // set up slot
        document.getElementById("slot" + slotId).style.display = "block";
        document.getElementById("slot" + slotId).onclick = loadVideoLater(video);
        
        // insert thumb
        var thumb = document.createElement("img");
        thumb.id = "thumb" + i;
        thumb.className = "thumb";
        thumb.src = video.thumbnail;
        thumb.title = video.title;
       
        var span = document.createElement("span");
        span.className = "thumbSpan";
        span.appendChild(thumb);
       
        //clearElement(document.getElementById("link" + slotId));
        document.getElementById("link" + slotId).appendChild(span);
        
        // fill in title and duration
        title = document.createTextNode(truncate(video.title, 15));
        duration = document.createTextNode("" + renderDuration(video.duration));
        document.getElementById("title" + slotId).appendChild(title);
        document.getElementById("duration" + slotId).appendChild(duration);
      }
    }

   // approximate char width, based on code used in AdWords (awCreateAdUtil)

    function charWidth(ch) {

      if (ch <= '\u04f9' ||

          ch == '\u05be' ||

          (ch >= '\u05d0' && ch <= '\u05ea') ||

          ch == '\u05F3' ||

          ch == '\u05f4' ||

          (ch >= '\u0e00' && ch <= '\u0e7f') ||

          (ch >= '\u1e00' && ch <= '\u20af') ||

          (ch >= '\u2100' && ch <= '\u213a') ||

          (ch >= '\uff61' && ch <= '\uffdc')) {

        return 1;

      }

      return 2;

    }

   var TRUNCATION_STRING = "...";

    function displayLength(string) {

      var count = 0;

      for (var i = 0; i < string.length; i++) {

        var character = string.substr(i, 1);

        count += charWidth(character);

      }

      return count;

    }

    function truncateByWidth(string, maxLen) {

      var count = 0;

      var truncated = "";

      for (var i = 0; i < string.length && count < maxLen; i++) {

        var character = string.substr(i, 1);

        truncated += character;

        count += charWidth(character);

      }

      return truncated;

    }



    // Truncate string to maxLen, in number of half-width (latin) characters.

    //   CJK and other languages include characters that are wider

    //   than standard latin characters, so we need to take this into account.

    function truncate(string, maxLen) {

      if (displayLength(string) > maxLen) {

        string = truncateByWidth(string, maxLen - TRUNCATION_STRING.length);

        string += TRUNCATION_STRING;

      }

      return string;

    }

    function renderDuration(duration) {

      minutes = Math.floor(duration / 60);

      seconds = (duration % 60) + "";

      seconds = seconds.substr(0, 2);

      if (seconds.length == 0) {

        seconds = "00";

      } else if (seconds.length == 1) {

        seconds = "0" + seconds;

      }

      return minutes + ":" + seconds;

    }

</script>
</head>
<body onload="javascript:load();">
<div id="uppernav" class="hbar">
	<a href="http://www.kyte.tv/home" target="_top"><img
            height="22" width="51" border="0"
          src="http://media01.kyte.tv/images/header/home.gif?v=4" /></a>
</div>

<div id="middle" class="hbar">
  <div id="loading" class="loading" >Cargando...</div>

<!--  <div id="message" class="message"></div> -->

<!--  <div id="watchVideos" class="contentpane" >
    <div id="innerWatchVideos">
      <div id="video0" class="player"></div>
      <div id="video1" class="player"></div>
    </div>
 -->
   <div id="chooseVideos" class="contentpane">
    <table id="browse" style="width:100%; height:100%;">
      <tr height="50%" align="center">

        <td id="cell0" width="33%">
          <div id="slot0" class="slot">
            <a id="link0" href="javascript:void(0)"></a>

            <div id="title0" class="browseitemtitle"></div>
            <div id="duration0" class="browseitemduration"></div>
          </div>
        </td>
        <td id="cell1" width="33%">

          <div id="slot1" class="slot">
            <a id="link1" href="javascript:void(0)"></a>
            <div id="title1" class="browseitemtitle"></div>
            <div id="duration1" class="browseitemduration"></div>

          </div>
        </td>
        <td id="cell2" width="33%">
          <div id="slot2" class="slot">

            <a id="link2" href="javascript:void(0)"></a>
            <div id="title2" class="browseitemtitle"></div>
            <div id="duration2" class="browseitemduration"></div>
          </div>
        </td>

      </tr>
      <tr align="center">
        <td>

          <div id="slot3" class="slot">
            <a id="link3" href="javascript:void(0)"></a>
            <div id="title3" class="browseitemtitle"></div>
            <div id="duration3" class="browseitemduration"></div>
          </div>
        </td>

        <td>
          <div id="slot4" class="slot">

            <a id="link4" href="javascript:void(0)"></a>
            <div id="title4" class="browseitemtitle"></div>
            <div id="duration4" class="browseitemduration"></div>
          </div>
        </td>
        <td>
          <div id="slot5" class="slot">

            <a id="link5" href="javascript:void(0)"></a>

            <div id="title5" class="browseitemtitle"></div>
            <div id="duration5" class="browseitemduration"></div>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
</div>
</body>
</html>
