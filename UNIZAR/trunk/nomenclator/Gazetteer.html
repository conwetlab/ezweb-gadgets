<!--***********************************************************************
* Copyright 2010 (C)
Grupo de Sistemas de InformaciÃ³n Avanzados IAAA Universidad de Zaragoza <http://iaaa.cps.unizar.es/>

This file is part of the generic nomenclator Gadget for the EzWeb Platform

nomenclator Gadget is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

nomenclator Gadget is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with nomenclator Gadget. If not, see <http://www.gnu.org/licenses/>
* ************************************************************************-->
<html>
	<head>
	
		<!--                                           -->
		<!-- Any title is fine                         -->
		<!--                                           -->
		<title>Buscador de topónimos</title>

		<!--                                           -->
		<!-- The module reference below is the link    -->
		<!-- between html and your Web Toolkit module  -->		
		<!--                                           -->
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<meta name='gwt:module' content='iaaa.ezweb.gazetteer.Gazetteer'>
		
		<!-- Librerías con la funcionalidad propia de la plataforma EzWeb -->
		<script language="javascript" src="/ezweb/js/EzWebAPI/EzWebAPI.js"></script>
		<script language="javascript" src="http://ezweb.tid.es/repository/js/eskel/1.0_beta1/EzWebAPI_ext.js"></script>	
		<script>
			function reloadApplication(){
				window.location.reload();
			}
			// Idioma de la aplicación
			var localePref = EzWebAPI.createRGadgetVariable("localePref", reloadApplication);
			
			// Definimos parámetro de contexto (idioma de la aplicación)
			function setLanguage(lang) {	
			}
			var language = EzWebAPI.createRGadgetVariable("language", setLanguage);
			if (localePref.get() == "default") {
				document.write('<meta name="gwt:property" content="locale=' + language.get() + '">');
			}
			else {
				document.write('<meta name="gwt:property" content="locale=' + localePref.get() + '">');
			}
		</script>
	
	</head>

	<!--                                           -->
	<!-- The body can have arbitrary html, or      -->
	<!-- you can leave the body empty if you want  -->
	<!-- to create a completely dynamic ui         -->
	<!--                                           -->
	<body>

		<!--                                            -->
		<!-- This script is required bootstrap stuff.   -->
		<!-- You can put it in the HEAD, but startup    -->
		<!-- is slightly faster if you include it here. -->
		<!--                                            -->		
        
		<script src="OpenLayers.js" type="text/javascript"></script>
		
		<script language="javascript" src="gwt.js" type="text/javascript"></script>
		
		<!-- OPTIONAL: include this if you want history support -->
		<iframe id="__gwt_historyFrame" style="width:0;height:0;border:0"></iframe>
		
		<script>
			// Definimos un parámetro de lectura y escritura
  			// EVENTS
			var point = EzWebAPI.createRWGadgetVariable("point");

			function setCoordinates(coord){
				point.set(coord);
  			}
			
  			// Definimos un parametro de lectura
			// SLOTS
			function searchFeature(f){
				setFeature(f);
  			}
			var feature = EzWebAPI.createRGadgetVariable("feature", searchFeature);
			
			function changeTheme(theme){
				if (theme == "red") {
					setTheme("red");
				}
				else {
					setTheme("blue");
				}
			}
			var themePref = EzWebAPI.createRGadgetVariable("themePref", changeTheme);
			
			function getTheme() {
				return themePref.get();
			}
		</script>

	</body>
</html>